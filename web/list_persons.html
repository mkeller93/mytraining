<!--
Copyright (c) 2013, the Dart project authors.  Please see the AUTHORS file
for details. All rights reserved. Use of this source code is governed by a
BSD-style license that can be found in the LICENSE file.
-->
<link rel="import" href="add_person.html">
<polymer-element name="list-persons-control">
<template>
  <div id="main-content">
   <template if="{{action == 'delete'}}">
    Really delete {{selectedPerson.firstname}} {{selectedPerson.name}}?
    <button on-click="{{deletePerson}}">Yes</button>
    <button on-click="{{cancelDelete}}">No</button>
   </template>
   <template if="{{action == 'edit'}}">
    <add-person-control person="{{selectedPerson}}"></add-person-control>
   </template>
   <template if="{{action == 'list'}}">
      <table>
        <tr>
          <td>Name</td>
          <td>Birthday</td>
          <td>Phone Number</td>
          <td>Email</td>
          <td>Total Trainings</td>
          <template if="{{edit == true || delete == true}}">
            <td>Action</td>
          </template>
        </tr>
        <template repeat="{{person in persons}}">
          <tr>
            <td>{{person.firstname}} {{person.name}} {{person.id}}</td>
            <td>{{person.birthday}}</td>
            <td>{{person.phoneNumber}}</td>
            <td>{{person.email}}</td>
            <td>NA yet</td>
            <td>
              <template if="{{edit == true}}">
                <button on-click="{{editPerson}}" person-id="{{person.id}}">Edit</button>
              </template>
              <template if="{{delete == true}}">
                <button on-click="{{showDeletePerson}}" person-id="{{person.id}}">Delete</button>
              </template>
            </td>    
          </tr>
        </template>
      </table>
   </template>
  </div>
</template>
<script type="application/dart" src="list_persons.dart"></script>
</polymer-element>